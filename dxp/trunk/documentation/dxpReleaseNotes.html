<html>

<head>
<meta http-equiv="Content-Type"
content="text/html; charset=iso-8859-1">
<meta name="GENERATOR" content="Microsoft FrontPage 5.0">
<title>DXP ReleaseNotes</title>
</head>

<body bgcolor="#FFFFFF">

<h1 align="center">dxp Release Notes</h1>

See <a href="dxpKnownProblems.html">known problems</a> for information
on problems each release.

<h2 align="center">Release 2-4 (??-September-2005) </h2>
<ul>
  <li>Added support for detector "groups" in the dxp and mca record drivers.  This is used to turn on 
      and off acquisition on all detectors as efficiently as possible.  Modifed dxpMED.db and dxpMED.st to
      take advantage of this new capability.
  <li>Added support for the new xMAP PXI modules.  This support runs on the cygwin-x86 architecture.
  <li>Enhancements to dxpRecord:
  <ul>
     <li>Made baseline filter length (BASE_LEN) be a menu rather than a number.
     <li>Added readback for baseline filter length (BASE_LEN_RBV)
     <li>Added the baseline cut enable (BASE_CUT_ENBL) and readback (BASE_CUT_ENBL_RBV) fields.
     <li>Implemented the pre-amp gain (PGAIN) and readback (PGAIN_RBV) fields.
     <li>Added time/point for the baseline history (BHIST_TIME).  This is currently only implemented on the xMAP.
     <li>Removed BASETHRADJ since xMAP does not support it, and it's available as low-level parameter.
  </ul>
  <li>Added code to support ADC trace and baseline history to dxpMED.st for multi-element detectors.
  <li>Fixes and enhancements for 40MHz version of Saturn.
  <li>Added support for native Windows build, in addition to Cygwin.
  <li>This version does NOT support the DXP4C2X because that support from XIA lags behind the Saturn and xMAP in terms
      of what acquisition parameters it supports.  The DXP4C2X will be supported in the next release.
  <li>List of things to be added/fixed in next release:
  <ul>
    <li>Implement missing functions on DXP-2X so it will work again.
    <li>Get algorithm for baseline threshold in energy units, implement on Saturn and DXP-2X.
    <li>Implement ROI mapping mode on Saturn and DXP-2X.
    <li>Implement MCA mapping mode on xMAP.
    <li>Implement fast SCA acquisition on all models.
    <li>Add DXP record fields for polarity, reset interval, and RC time constant.
  </ul>
</ul>

<h2 align="center">Release 2-3 (11-August-2005) </h2>
<ul>
  <li>Added several readback fields to dxpRecord (BASETHRESH_RBV, etc.)
  <li>Use value of RUNTASKS from save/restore, so that auto baseline threshold adjust and other
      bits are restored.
  <li>Fixed bugs in setting SCAs from MCA ROIs which were causing error messages.
  <li>Fixed init_record in dxpRecord so that BASETHRESH from save/restore is set correctly
      if automatic baseline threshold adjust is disabled.
  <li>Fixed definition of bit 0 in RUNTASKS in dxp2x_rc.db and dxp2x_reset.db.  
      This bug was causing baseline histogramming to stop if any other bits were
      modified in RUNTASKS.
  <li>Added 40MHz firmware files for the Saturn.
  <li>Fixed bug that was causing bit 0 of RUNTASKS to be reset, turning off baseline histogramming
      whenever RUNTASKS was modified.
  <li>Added new ECAL field.  ADC_RULE is now at energy=ECAL, not at energy=EMAX/2.
</ul>

<h2 align="center">Release 2-2 (29-Mar-2005) </h2>
<ul>
  <li>Added rpc library for standalone applications on cygwin, needed by saveData</li>
</ul>

<h2 align="center">Release 2-1 (23-Mar-2005) </h2>

<p>Major re-write of the software.  Previously the DXP device support for the MCA and
DXP records was using the Xerxes library from XIA.  This is a low-level library, and
required that the EPICS software know what XIA model was being used (Saturn, DXP2X, etc.)
This releases uses the XIA Handel library, which is a higher-level library.  The EPICS
software no longer needs to know what hardware it is talking to, and no longer needs
to implement the algorithms to convert high level concepts (e.g. peaking time) to
low-level device parameters.</p>

<p>Added significant new features to the software, including the ability to acquire and
plot the baseline history and ADC trace data.  This greatly improves the diagnostics
available to the user.  The EPICS software now has most of the features of the XIA
Kepler and MESA software.</p>

<p>Most high-level parameters are now in physical units (e.g. microseconds, keV) rather
than integer DXP device units.<p>

<p>Added support for running the EPICS IOC on Windows to control the Saturn. This
means that a Saturn or Vortex detector can now be run by a Windows laptop, which
is attractive for portable applications.</p>

<p>Improved Linux support by not requiring the user to have root priviledge to run the
IOC.</p>

<p>Changed from using the EPICS MPF module to using the new ASYN module.  This
improves debugging support.</p>

<p>Improved multi-element detector support.  There is now a single database 
for multi-element detectors, and all of the logic to synchronize acquisition and 
copy parameters 
from detector 1 to all detectors is done by a State Notation Language Program.
This greatly simplifies adding support for a new detector with a different number
of elements, since only the MEDM screens now need to be changed, not the databases.</p>

<p>The commands required in the st.cmd startup file, and the files required to configure
the hardware have changed significantly.  This is because Handel and Xerxes do things
quite differently.  Users will need to look at the example iocBoot directories to
convert existing IOCs.</p>

<h2 align="center">Release 1-2 (June 2004) </h2>

<p align="left">Added 1element_dxp.db, 1element_dxp.adl, dxpTop.adl,
single_dxp_top.adl.</p>
<p>Dependencies now include calc, sscan, and autosave modules.  No longer depend
on std module.</p>

<p>Fixed clock on X10P (Saturn) model, was 400nsec, actually 800nsec</p>



<h2 align="center">Release 1-1 (January 2004) </h2>

<p align="left">This is the first release of the synApps dxp module.&nbsp; Prior 
to this the support for the XIA DXP models was provided in the synApps CAMAC 
module.&nbsp; This version runs only on EPICS 3.14.</p>

<ul>
  <li>

<p align="left">Moved software from camac to dxp synApps module</li>
<li>

<p align="left">Added support for Saturn model</li>
<li>

<p align="left">Added documentation directory</li>
</ul>

<p align="left">&nbsp;</p>

<address>
    Suggestions and Comments to: <br>
    <a href="mailto:rivers@cars.uchicago.edu">Mark Rivers </a>:
    (rivers@cars.uchicago.edu) <br>
    Last modified: March 29, 2005 
</address>
</body>
</html>
